(self.webpackChunkh2=self.webpackChunkh2||[]).push([[762],{6659:function(e){"use strict";const t=/(?:[',\.0-9;A-Z_a-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0589\u05D0-\u05EA\u05EF-\u05F2\u060C\u060D\u0620-\u064A\u0660-\u0669\u066C\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07F8\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2018\u2019\u2024\u203F\u2040\u2044\u2054\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BA\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE10\uFE14\uFE33\uFE34\uFE4D-\uFE50\uFE52\uFE54\uFE70-\uFE74\uFE76-\uFEFC\uFF07\uFF0C\uFF0E\uFF10-\uFF19\uFF1B\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|[\u00AD\u2010\u2011]|\u002D(?!\u002D))+/g;e.exports=function(e){"string"!==typeof e&&(e=null==e?"":String(e));for(var u=0;t.test(e);)++u;return u}},2762:function(e,t,u){"use strict";u.r(t),u.d(t,{default:function(){return xe}});var n=u(4942),r=u(6659),o=u.n(r),i=u(5697),a=u.n(i),s=u(7294),l=u(7101),D=u(9027),c=u(1143),p=u.n(c);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){return d(this,t),h(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){p()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(s.Component);f.propTypes={when:a().bool,message:a().oneOfType([a().func,a().string]).isRequired},f.defaultProps={when:!0},f.contextTypes={router:a().shape({history:a().shape({block:a().func.isRequired}).isRequired}).isRequired};var C=f,E=u(6496),F=u.n(E);function m(e,t){return Array(t+1).join(e)}var A=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"];function g(e){return-1!==A.indexOf(e.nodeName.toLowerCase())}var B=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"];function v(e){return-1!==B.indexOf(e.nodeName.toLowerCase())}var y=B.join();var b={};function w(e){for(var t in this.options=e,this._keep=[],this._remove=[],this.blankRule={replacement:e.blankReplacement},this.keepReplacement=e.keepReplacement,this.defaultRule={replacement:e.defaultReplacement},this.array=[],e.rules)this.array.push(e.rules[t])}function k(e,t,u){for(var n=0;n<e.length;n++){var r=e[n];if(x(r,t,u))return r}}function x(e,t,u){var n=e.filter;if("string"===typeof n){if(n===t.nodeName.toLowerCase())return!0}else if(Array.isArray(n)){if(n.indexOf(t.nodeName.toLowerCase())>-1)return!0}else{if("function"!==typeof n)throw new TypeError("`filter` needs to be a string, array, or function");if(n.call(e,t,u))return!0}}function S(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function N(e,t,u){return e&&e.parentNode===t||u(t)?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}b.paragraph={filter:"p",replacement:function(e){return"\n\n"+e+"\n\n"}},b.lineBreak={filter:"br",replacement:function(e,t,u){return u.br+"\n"}},b.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t,u){var n=Number(t.nodeName.charAt(1));return"setext"===u.headingStyle&&n<3?"\n\n"+e+"\n"+m(1===n?"=":"-",e.length)+"\n\n":"\n\n"+m("#",n)+" "+e+"\n\n"}},b.blockquote={filter:"blockquote",replacement:function(e){return"\n\n"+(e=(e=e.replace(/^\n+|\n+$/g,"")).replace(/^/gm,"> "))+"\n\n"}},b.list={filter:["ul","ol"],replacement:function(e,t){var u=t.parentNode;return"LI"===u.nodeName&&u.lastElementChild===t?"\n"+e:"\n\n"+e+"\n\n"}},b.listItem={filter:"li",replacement:function(e,t,u){e=e.replace(/^\n+/,"").replace(/\n+$/,"\n").replace(/\n/gm,"\n    ");var n=u.bulletListMarker+"   ",r=t.parentNode;if("OL"===r.nodeName){var o=r.getAttribute("start"),i=Array.prototype.indexOf.call(r.children,t);n=(o?Number(o)+i:i+1)+".  "}return n+e+(t.nextSibling&&!/\n$/.test(e)?"\n":"")}},b.indentedCodeBlock={filter:function(e,t){return"indented"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,u){return"\n\n    "+t.firstChild.textContent.replace(/\n/g,"\n    ")+"\n\n"}},b.fencedCodeBlock={filter:function(e,t){return"fenced"===t.codeBlockStyle&&"PRE"===e.nodeName&&e.firstChild&&"CODE"===e.firstChild.nodeName},replacement:function(e,t,u){var n=((t.firstChild.className||"").match(/language-(\S+)/)||[null,""])[1];return"\n\n"+u.fence+n+"\n"+t.firstChild.textContent+"\n"+u.fence+"\n\n"}},b.horizontalRule={filter:"hr",replacement:function(e,t,u){return"\n\n"+u.hr+"\n\n"}},b.inlineLink={filter:function(e,t){return"inlined"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return"["+e+"]("+t.getAttribute("href")+(t.title?' "'+t.title+'"':"")+")"}},b.referenceLink={filter:function(e,t){return"referenced"===t.linkStyle&&"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t,u){var n,r,o=t.getAttribute("href"),i=t.title?' "'+t.title+'"':"";switch(u.linkReferenceStyle){case"collapsed":n="["+e+"][]",r="["+e+"]: "+o+i;break;case"shortcut":n="["+e+"]",r="["+e+"]: "+o+i;break;default:var a=this.references.length+1;n="["+e+"]["+a+"]",r="["+a+"]: "+o+i}return this.references.push(r),n},references:[],append:function(e){var t="";return this.references.length&&(t="\n\n"+this.references.join("\n")+"\n\n",this.references=[]),t}},b.emphasis={filter:["em","i"],replacement:function(e,t,u){return e.trim()?u.emDelimiter+e+u.emDelimiter:""}},b.strong={filter:["strong","b"],replacement:function(e,t,u){return e.trim()?u.strongDelimiter+e+u.strongDelimiter:""}},b.code={filter:function(e){var t=e.previousSibling||e.nextSibling,u="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!u},replacement:function(e){if(!e.trim())return"";var t="`",u="",n="",r=e.match(/`+/gm);if(r)for(/^`/.test(e)&&(u=" "),/`$/.test(e)&&(n=" ");-1!==r.indexOf(t);)t+="`";return t+u+e+n+t}},b.image={filter:"img",replacement:function(e,t){var u=t.alt||"",n=t.getAttribute("src")||"",r=t.title||"";return n?"!["+u+"]("+n+(r?' "'+r+'"':"")+")":""}},w.prototype={add:function(e,t){this.array.unshift(t)},keep:function(e){this._keep.unshift({filter:e,replacement:this.keepReplacement})},remove:function(e){this._remove.unshift({filter:e,replacement:function(){return""}})},forNode:function(e){return e.isBlank?this.blankRule:(t=k(this.array,e,this.options))||(t=k(this._keep,e,this.options))||(t=k(this._remove,e,this.options))?t:this.defaultRule;var t},forEach:function(e){for(var t=0;t<this.array.length;t++)e(this.array[t],t)}};var T="undefined"!==typeof window?window:{};var R,L=function(){var e=T.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(u){}return t}()?T.DOMParser:function(){var e=function(){},t=u(1576).JSDOM;return e.prototype.parseFromString=function(e){return new t(e).window.document},e}();function I(e){var t;"string"===typeof e?t=(R=R||new L).parseFromString('<x-turndown id="turndown-root">'+e+"</x-turndown>","text/html").getElementById("turndown-root"):t=e.cloneNode(!0);return function(e){var t=e.element,u=e.isBlock,n=e.isVoid,r=e.isPre||function(e){return"PRE"===e.nodeName};if(t.firstChild&&!r(t)){for(var o=null,i=!1,a=null,s=N(a,t,r);s!==t;){if(3===s.nodeType||4===s.nodeType){var l=s.data.replace(/[ \r\n\t]+/g," ");if(o&&!/ $/.test(o.data)||i||" "!==l[0]||(l=l.substr(1)),!l){s=S(s);continue}s.data=l,o=s}else{if(1!==s.nodeType){s=S(s);continue}u(s)||"BR"===s.nodeName?(o&&(o.data=o.data.replace(/ $/,"")),o=null,i=!1):n(s)&&(o=null,i=!0)}var D=N(a,s,r);a=s,s=D}o&&(o.data=o.data.replace(/ $/,""),o.data||S(o))}}({element:t,isBlock:g,isVoid:v}),t}function P(e){return e.isBlock=g(e),e.isCode="code"===e.nodeName.toLowerCase()||e.parentNode.isCode,e.isBlank=function(e){return-1===["A","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"].indexOf(e.nodeName)&&/^\s*$/i.test(e.textContent)&&!v(e)&&!function(e){return e.querySelector&&e.querySelector(y)}(e)}(e),e.flankingWhitespace=function(e){var t="",u="";if(!e.isBlock){var n=/^[ \r\n\t]/.test(e.textContent),r=/[ \r\n\t]$/.test(e.textContent);n&&!M("left",e)&&(t=" "),r&&!M("right",e)&&(u=" ")}return{leading:t,trailing:u}}(e),e}function M(e,t){var u,n,r;return"left"===e?(u=t.previousSibling,n=/ $/):(u=t.nextSibling,n=/^ /),u&&(3===u.nodeType?r=n.test(u.nodeValue):1!==u.nodeType||g(u)||(r=n.test(u.textContent))),r}var O=Array.prototype.reduce,_=/^\n*/,$=/\n*$/,q=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function U(e){if(!(this instanceof U))return new U(e);var t={rules:b,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",blankReplacement:function(e,t){return t.isBlock?"\n\n":""},keepReplacement:function(e,t){return t.isBlock?"\n\n"+t.outerHTML+"\n\n":t.outerHTML},defaultReplacement:function(e,t){return t.isBlock?"\n\n"+e+"\n\n":e}};this.options=function(e){for(var t=1;t<arguments.length;t++){var u=arguments[t];for(var n in u)u.hasOwnProperty(n)&&(e[n]=u[n])}return e}({},t,e),this.rules=new w(this.options)}function j(e){var t=this;return O.call(e.childNodes,(function(e,u){var n="";return 3===(u=new P(u)).nodeType?n=u.isCode?u.nodeValue:t.escape(u.nodeValue):1===u.nodeType&&(n=H.call(t,u)),K(e,n)}),"")}function z(e){var t=this;return this.rules.forEach((function(u){"function"===typeof u.append&&(e=K(e,u.append(t.options)))})),e.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function H(e){var t=this.rules.forNode(e),u=j.call(this,e),n=e.flankingWhitespace;return(n.leading||n.trailing)&&(u=u.trim()),n.leading+t.replacement(u,e,this.options)+n.trailing}function K(e,t){var u=function(e,t){var u=[e.match($)[0],t.match(_)[0]].sort(),n=u[u.length-1];return n.length<2?n:"\n\n"}(e,t);return(e=e.replace($,""))+u+(t=t.replace(_,""))}U.prototype={turndown:function(e){if(!function(e){return null!=e&&("string"===typeof e||e.nodeType&&(1===e.nodeType||9===e.nodeType||11===e.nodeType))}(e))throw new TypeError(e+" is not a string, or an element/document/fragment node.");if(""===e)return"";var t=j.call(this,new I(e));return z.call(this,t)},use:function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.use(e[t]);else{if("function"!==typeof e)throw new TypeError("plugin must be a Function or an Array of Functions");e(this)}return this},addRule:function(e,t){return this.rules.add(e,t),this},keep:function(e){return this.rules.keep(e),this},remove:function(e){return this.rules.remove(e),this},escape:function(e){return q.reduce((function(e,t){return e.replace(t[0],t[1])}),e)}};var W=U,V=u(5140),Z=u(8780),Y=u(9806),X=u(4678);const J={dropping:!1};class G extends s.PureComponent{constructor(e){super(e),this.state={...J}}onDragOver(e){e.preventDefault(),e.dataTransfer.dropEffect="copy",this.setState({dropping:!0})}onDragLeave(e){e.preventDefault(),this.setState({dropping:!1})}onDrop(e){e.preventDefault(),e.dataTransfer.files.length?(this.setState({dropping:!1}),this.props.onUpload(Array.from(e.dataTransfer.files))):this.setState({dropping:!1})}onInputChange(e){this.props.onUpload(Array.from(e.target.files))}render(){const{allowMultiple:e,children:t,files:u}=this.props;return s.createElement("div",{className:"DropUpload "+(this.state.dropping?"dropping":""),onDragOver:e=>this.onDragOver(e),onDragLeave:e=>this.onDragLeave(e),onDrop:e=>this.onDrop(e)},t,s.createElement("div",{className:"DropUpload-status"},u.length?u.map((e=>s.createElement("p",{key:`${e.name}-${e.lastModified}`},s.createElement("span",{className:"Loading loading--active"}),"Uploading ",e.name,"\u2026"))):s.createElement("p",{className:"buttons"},s.createElement("label",{className:"DropUpload-uploader"},s.createElement("input",{multiple:e,type:"file",onChange:e=>this.onInputChange(e)}),"Upload an attachment"),s.createElement("span",null," or drop files here."))))}}G.defaultProps={allowMultiple:!1},G.propTypes={allowMultiple:a().bool,files:a().arrayOf(a().shape({name:a().string.isRequired})),onUpload:a().func.isRequired};var Q=u(7397),ee=u(3560),te=u.n(ee),ue=u(2441),ne=u.n(ue),re=u(3524),oe=u.n(re);const ie={currentBindings:{},globalCallbacks:{}};class ae extends s.Component{render(){return this.props.children?s.createElement(s.Fragment,null,this.props.children):null}}ae.propTypes={keys:a().objectOf(a().oneOfType([a().func,a().shape({callback:a().func.isRequired,allowInInput:a().bool})]))};const se=ne().prototype.stopCallback;ne().prototype.stopCallback=function(e,t,u,n){return!ie.globalCallbacks[u]&&!ie.globalCallbacks[n]&&se.call(this,e,t,u)};var le=oe()((e=>{let t={};return e.forEach((e=>{e.keys&&Object.keys(e.keys).forEach((u=>{te()(e.keys[u])?t[u]={allowInInput:!1,callback:e.keys[u]}:t[u]={allowInInput:!1,...e.keys[u]}}))})),t}),(e=>{const t={...ie.currentBindings};ie.globalCallbacks={},Object.keys(e).forEach((u=>{const n=e[u];n.allowInInput&&(ie.globalCallbacks[u]=!0),ne().bind(u,n.callback),delete t[u]})),Object.keys(t).forEach((e=>{ne().unbind(e)})),ie.currentBindings=e}))(ae),De=u(7462),ce=u(7718);class pe extends s.Component{constructor(e){super(e),this.state={items:[],selected:0}}componentDidMount(){this.mounted=!0,this.keyHandler=e=>{Promise.resolve(this.getItems()).then((e=>{this.mounted&&this.setState({items:e})}));const{items:t}=this.state;if(!t||!t.length)return;const{selected:u}=this.state;switch(e.key){case"ArrowUp":return e.preventDefault(),void this.setState((e=>({selected:Math.max(0,u-1)})));case"ArrowDown":return e.preventDefault(),void this.setState((e=>({selected:Math.min(u+1,t.length-1)})));case"Tab":case"Enter":{e.preventDefault();const n=t[u];return void this.props.onSelect(this.props.insert(n,this.props))}case"Escape":return e.preventDefault(),void this.props.onCancel();default:return}},window.addEventListener("keydown",this.keyHandler)}componentWillUnmount(){this.mounted=!1,this.keyHandler&&window.removeEventListener("keydown",this.keyHandler)}getItems(){return this.props.getItems(this.props.text,this.props.items,this.props.matcher)}render(){const{coords:e,insert:t,renderItem:u,onSelect:n}=this.props,{items:r}=this.state;return r&&r.length?s.createElement("ol",{className:"Completion",style:{top:e.top,left:e.left}},r.map(((e,r)=>u({key:e.colons,item:e,selected:r===this.state.selected,onHover:()=>this.setState({selected:r}),onSelect:()=>n(t(e,this.props))})))):null}}pe.propTypes={coords:a().shape({top:a().number.isRequired,left:a().number.isRequired}).isRequired,items:a().array,text:a().string.isRequired,trigger:a().string.isRequired,onCancel:a().func.isRequired,onSelect:a().func.isRequired},pe.defaultProps={items:[],insert:(e,t)=>`${t.trigger}${e} `,matcher:(e,t)=>e.toLowerCase().indexOf(t.toLowerCase())>=0,getItems:(e,t,u)=>t.filter((t=>u(t,e))).slice(0,5),renderItem:e=>{let{item:t,selected:u,onSelect:n}=e;return s.createElement("li",{key:t.colons,className:u?"selected":null,onClick:()=>n(t)},t)}};const de=e=>{let{item:t,selected:u,onSelect:n}=e;return s.createElement("li",{className:u?"selected":null,onClick:n},t.imageUrl?s.createElement("img",{alt:t.colons,className:"EmojiCompletion-custom",src:t.imageUrl}):t.native,t.colons)};var he=e=>s.createElement(pe,(0,De.Z)({},e,{getItems:e=>Promise.all([u.e(930),u.e(762)]).then(u.bind(u,5842)).then((t=>{let{emojiIndex:u}=t;if(!e.length)return null;return[...u.search(`:${e}`,{custom:ce.m,maxResults:1}),...u.search(e,{custom:ce.m,maxResults:5})].slice(0,5)})),renderItem:e=>s.createElement(de,e),insert:e=>(e.native||e.colons)+" "})),fe=u(8306);const Ce=(e,t)=>`${t.trigger}${e.slug} `,Ee=u.n(fe)()(((e,t)=>`${e.slug} ${e.name}`.toLowerCase().indexOf(t.toLowerCase())>=0),((e,t)=>`${e.id}:${t}`)),Fe=e=>{let{item:t,selected:u,onSelect:n}=e;return s.createElement("li",{key:t.slug,className:u?"MentionCompletion-item selected":"MentionCompletion-item",onClick:n},s.createElement("img",{alt:"",className:"avatar",src:t.avatar_urls[48]}),s.createElement("span",{className:"name"},t.name),s.createElement("span",{className:"username"},"@",t.slug))};var me=(0,D.connect)((e=>({users:e.users.posts})))((e=>s.createElement(pe,(0,De.Z)({},e,{items:e.users,insert:Ce,matcher:Ee,renderItem:e=>s.createElement(Fe,e)}))));const Ae=(e,t,u)=>e.length?t+e+u:t,ge=/^https?:\/\/\S+$/i,Be={bold:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M6 4v13h4.54c1.37 0 2.46-.33 3.26-1 .8-.66 1.2-1.58 1.2-2.77 0-.84-.17-1.51-.51-2.01s-.9-.85-1.67-1.03v-.09c.57-.1 1.02-.4 1.36-.9s.51-1.13.51-1.91c0-1.14-.39-1.98-1.17-2.5C12.75 4.26 11.5 4 9.78 4H6zm2.57 5.15V6.26h1.36c.73 0 1.27.11 1.61.32.34.22.51.58.51 1.07 0 .54-.16.92-.47 1.15s-.82.35-1.51.35h-1.5zm0 2.19h1.6c1.44 0 2.16.53 2.16 1.61 0 .6-.17 1.05-.51 1.34s-.86.43-1.57.43H8.57v-3.38z"/></g></svg>',title:"Add bold text",key:"mod+b",apply:e=>Ae(e,"**","**")},italic:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M14.78 6h-2.13l-2.8 9h2.12l-.62 2H4.6l.62-2h2.14l2.8-9H8.03l.62-2h6.75z"/></g></svg>',title:"Add italic text",key:"mod+i",apply:e=>Ae(e,"*","*")},link:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M17.74 2.76c1.68 1.69 1.68 4.41 0 6.1l-1.53 1.52c-1.12 1.12-2.7 1.47-4.14 1.09l2.62-2.61.76-.77.76-.76c.84-.84.84-2.2 0-3.04-.84-.85-2.2-.85-3.04 0l-.77.76-3.38 3.38c-.37-1.44-.02-3.02 1.1-4.14l1.52-1.53c1.69-1.68 4.42-1.68 6.1 0zM8.59 13.43l5.34-5.34c.42-.42.42-1.1 0-1.52-.44-.43-1.13-.39-1.53 0l-5.33 5.34c-.42.42-.42 1.1 0 1.52.44.43 1.13.39 1.52 0zm-.76 2.29l4.14-4.15c.38 1.44.03 3.02-1.09 4.14l-1.52 1.53c-1.69 1.68-4.41 1.68-6.1 0-1.68-1.68-1.68-4.42 0-6.1l1.53-1.52c1.12-1.12 2.7-1.47 4.14-1.1l-4.14 4.15c-.85.84-.85 2.2 0 3.05.84.84 2.2.84 3.04 0z"/></g></svg>',title:"Add link",apply:e=>`[${e||"Text"}](https://)`},sep1:{separator:!0},quote:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M9.49 13.22c0-.74-.2-1.38-.61-1.9-.62-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L7.88 4c-2.73 1.3-5.42 4.28-4.96 8.05C3.21 14.43 4.59 16 6.54 16c.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03zm8.05 0c0-.74-.2-1.38-.61-1.9-.63-.78-1.83-.88-2.53-.72-.29-1.65 1.11-3.75 2.92-4.65L15.93 4c-2.73 1.3-5.41 4.28-4.95 8.05.29 2.38 1.66 3.95 3.61 3.95.85 0 1.56-.25 2.12-.75s.83-1.18.83-2.03z"/></g></svg>',title:"Add blockquote",apply:e=>Ae(e,">","\n")},code:{icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><rect x="0" fill="none" width="20" height="20"/><g><path d="M9 6l-4 4 4 4-1 2-6-6 6-6zm2 8l4-4-4-4 1-2 6 6-6 6z"/></g></svg>',title:"Add code",apply:e=>e.indexOf("\n")>0?Ae(e,"```\n","\n```\n"):Ae(e,"`","`")}},ve="You have unsaved content. Are you sure you want to leave? Your content will not be saved.",ye={"@":me,":":he},be=e=>{const t=(0,V.Z)(e.children);return s.createElement("div",{className:"Editor-preview"},s.createElement(Q.Z,{html:t}))};be.propTypes={children:a().string.isRequired};class we extends s.PureComponent{constructor(e){super(e),(0,n.Z)(this,"warnBeforeLeaving",(e=>{if(!(""===this.state.content||this.props.initialValue&&this.state.content===this.props.initialValue))return e.returnValue=ve,ve})),(0,n.Z)(this,"onPaste",(e=>{const t=e.clipboardData.getData("text/html");if(!t||!(0,Y.g1)(t)){const t=e.clipboardData.getData("text/plain");return(e=>ge.test(e))(t)?(e.preventDefault(),void this.onPasteLink(t)):void 0}e.preventDefault();const u=new W({headingStyle:"atx",hr:"---",codeBlockStyle:"fenced"}),n=(0,Y.P8)(u.turndown(t));this.onButton(null,(()=>n))})),(0,n.Z)(this,"onSave",(()=>{this.props.onSave((0,V.Z)(this.state.content),this.state.content)})),(0,n.Z)(this,"restoreSelection",(()=>{const[e,t]=this.state.lastSelection;this.textarea&&(this.textarea.selectionStart=e,this.textarea.selectionEnd=t,this.focus(),this.setState({lastSelection:null}))})),this.state={content:e.initialValue,completion:null,count:0,hasFocus:!1,height:null,mode:"edit",uploading:[]},this.textarea=null}componentDidMount(){window.addEventListener("beforeunload",this.warnBeforeLeaving)}componentWillUnmount(){window.removeEventListener("beforeunload",this.warnBeforeLeaving)}componentDidUpdate(){if(!this.textarea)return;const e=this.textarea.offsetHeight,t=this.textarea.scrollHeight;t>e&&this.setState({height:t}),this.setState((e=>({count:o()(e.content)})))}updateTextarea(e){e!==this.textarea&&(this.textarea=e)}onKeyDown(e){const{key:t,target:u}=e;if(!ye[t])return e.metaKey&&"Enter"===e.key?(this.onSubmit(e),!1):void 0;if(!!!u.value.substring(0,u.selectionEnd).match(/(^|\s)$/))return;const n=F()(u,u.selectionEnd),r={key:t,coords:{top:n.top-u.scrollTop,left:n.left-u.scrollLeft},start:u.selectionEnd};this.setState({completion:r})}onKeyUp(e){const{target:t}=e,{completion:u}=this.state;u&&(t.selectionEnd===this.state.completion.start?this.setState({completion:null}):this.setState({completion:{...this.state.completion,end:t.selectionEnd}}))}onPasteLink(e){this.onButton(null,(t=>t?t.match(/^https?:\/\/\S*$/)?e:`[${t}](${e})`:e))}onSubmit(e){e.preventDefault(),this.props.onSubmit((0,V.Z)(this.state.content),this.state.content)}onBlur(){const{selectionStart:e,selectionEnd:t}=this.textarea,u=[e,t];this.setState({lastSelection:u,hasFocus:!1})}onFocus(){this.setState({lastSelection:null,hasFocus:!0})}onButton(e,t){e&&e.preventDefault(),this.setState((e=>{let{selectionStart:u,selectionEnd:n}=this.textarea;e.lastSelection&&([u,n]=e.lastSelection);const r=e.content,o=r.substring(u,n),i=t(o),a=n+(i.length-o.length),s=u===n?a:u;return{content:[r.substring(0,u),i,r.substring(n)].join(""),lastSelection:[s,a]}}),this.restoreSelection)}onUpload(e){this.setState((t=>({uploading:[...t.uploading,...e]})));const t=e.map((e=>{const t=`<img alt="Uploading ${e.name}\u2026" />`;return this.props.onUpload(e).then((u=>{const n=Z.BC.getSingle(this.props.media,u);this.setState((u=>({content:u.content.replace(t,`<img alt="${n.title.raw}" src="${n.source_url}" />`),uploading:u.uploading.filter((t=>t!==e))})))})),t}));this.onButton(null,(()=>`\n${t.join("\n")}\n`))}getCompletion(){const{completion:e,content:t}=this.state;if(!e)return null;const u={key:e.key,coords:e.coords,text:t.substring(e.start+1,e.end),trigger:e.key,onSelect:t=>{const u=this.state.content,n=u.substring(0,e.start),r=[n,t,u.substring(e.end)],o=n.length+t.length;this.setState({completion:null,content:r.join(""),lastSelection:[o,o]},this.restoreSelection)},onCancel:()=>this.setState({completion:null})},n=ye[e.key];return n?s.createElement(n,u):null}focus(){this.textarea&&this.textarea.focus()}render(){const{content:e,count:t,hasFocus:u,height:n,mode:r}=this.state,o={};Object.keys(Be).forEach((e=>{const t=Be[e];t.key&&(o[t.key]={allowInInput:!0,callback:e=>this.onButton(e,t.apply)})}));const i=this.props.previewComponent||be;return s.createElement("form",{className:"preview"===r?"Editor previewing":"Editor",onSubmit:e=>this.onSubmit(e)},s.createElement(le,{keys:u?o:null}),s.createElement("div",{className:"Editor-header"},s.createElement("ul",{className:"Editor-tabs"},s.createElement("li",null,s.createElement("label",null,s.createElement("input",{checked:"edit"===r,name:"Editor-mode",type:"radio",value:"edit",onChange:e=>this.setState({mode:e.target.value})}),s.createElement("span",null,"Write"))),s.createElement("li",null,s.createElement("label",null,s.createElement("input",{checked:"preview"===r,name:"Editor-mode",type:"radio",value:"preview",onChange:e=>this.setState({mode:e.target.value})}),s.createElement("span",null,"Preview")))),"edit"===r?s.createElement("ul",{className:"Editor-toolbar"},Object.keys(Be).map((e=>Be[e].separator?s.createElement("span",{key:e,className:"separator"}):s.createElement("button",{key:e,onClick:t=>this.onButton(t,Be[e].apply),title:Be[e].title,type:"button"},s.createElement("span",{className:"svg-icon",dangerouslySetInnerHTML:{__html:Be[e].icon}}),s.createElement("span",{className:"screen-reader-text"},e))))):null),s.createElement("div",{className:"Editor-editor-container"},s.createElement(G,{allowMultiple:!0,files:this.state.uploading,onUpload:e=>this.onUpload(e)},"preview"===r?s.createElement(i,null,e||"*Nothing to preview*"):s.createElement("textarea",{ref:e=>this.updateTextarea(e),className:"Editor-editor",placeholder:"Write a comment...",style:{height:n},value:e,onBlur:()=>this.onBlur(),onFocus:()=>this.onFocus(),onChange:e=>this.setState({content:e.target.value}),onKeyDown:e=>this.onKeyDown(e),onKeyUp:e=>this.onKeyUp(e),onPaste:this.onPaste})),s.createElement(C,{when:!(""===this.state.content||this.props.initialValue&&this.state.content===this.props.initialValue),message:ve}),"preview"!==r?this.getCompletion():null),s.createElement("p",{className:"Editor-submit"},s.createElement("small",null,s.createElement("span",null,1===t?"1 word":`${t.toLocaleString()} words`),s.createElement("br",null),s.createElement("a",{href:"http://commonmark.org/help/",rel:"noopener noreferrer",target:"_blank"},"Format with Markdown"),this.props.lastSave&&s.createElement(s.Fragment,null,s.createElement("br",null),"Last saved ",s.createElement(l.yJ,{value:this.props.lastSave}))),s.createElement("span",{className:"Editor-submit-buttons"},this.props.onCancel?s.createElement(X.Z,{onClick:this.props.onCancel},"Cancel"):null,this.props.onSave&&s.createElement(X.Z,{onClick:this.onSave},this.props.saveText||"Save"),s.createElement(X.Z,{submit:!0,type:"primary"},this.props.submitText))))}}we.defaultProps={initialValue:"",submitText:"Comment"},we.propTypes={previewComponent:a().func,saveText:a().string,submitText:a().string,onCancel:a().func,onSubmit:a().func.isRequired};const ke=(0,D.connect)((e=>({media:e.media})),(e=>({onUpload:t=>e(Z.BC.uploadSingle(t))})),null,{withRef:!0})(we);ke.prototype.focus=function(){this.getWrappedInstance().focus()};var xe=ke},5842:function(e,t,u){"use strict";u.r(t),u.d(t,{emojiIndex:function(){return n.bj}});var n=u(3930);t.default=n.cW},2441:function(e,t,u){var n;!function(r,o,i){if(r){for(var a,s={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},l={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},D={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},c={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)s[111+p]="f"+p;for(p=0;p<=9;++p)s[p+96]=p.toString();m.prototype.bind=function(e,t,u){var n=this;return e=e instanceof Array?e:[e],n._bindMultiple.call(n,e,t,u),n},m.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},m.prototype.trigger=function(e,t){var u=this;return u._directMap[e+":"+t]&&u._directMap[e+":"+t]({},e),u},m.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},m.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(F(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var u=e.composedPath()[0];u!==e.target&&(t=u)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},m.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},m.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(s[t]=e[t]);a=null},m.init=function(){var e=m(o);for(var t in e)"_"!==t.charAt(0)&&(m[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},m.init(),r.Mousetrap=m,e.exports&&(e.exports=m),void 0===(n=function(){return m}.call(t,u,t,e))||(e.exports=n)}function d(e,t,u){e.addEventListener?e.addEventListener(t,u,!1):e.attachEvent("on"+t,u)}function h(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return s[e.which]?s[e.which]:l[e.which]?l[e.which]:String.fromCharCode(e.which).toLowerCase()}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function C(e,t,u){return u||(u=function(){if(!a)for(var e in a={},s)e>95&&e<112||s.hasOwnProperty(e)&&(a[s[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==u&&t.length&&(u="keydown"),u}function E(e,t){var u,n,r,o=[];for(u=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<u.length;++r)n=u[r],c[n]&&(n=c[n]),t&&"keypress"!=t&&D[n]&&(n=D[n],o.push("shift")),f(n)&&o.push(n);return{key:n,modifiers:o,action:t=C(n,o,t)}}function F(e,t){return null!==e&&e!==o&&(e===t||F(e.parentNode,t))}function m(e){var t=this;if(e=e||o,!(t instanceof m))return new m(e);t.target=e,t._callbacks={},t._directMap={};var u,n={},r=!1,i=!1,a=!1;function s(e){e=e||{};var t,u=!1;for(t in n)e[t]?u=!0:n[t]=0;u||(a=!1)}function l(e,u,r,o,i,a){var s,l,D,c,p=[],d=r.type;if(!t._callbacks[e])return[];for("keyup"==d&&f(e)&&(u=[e]),s=0;s<t._callbacks[e].length;++s)if(l=t._callbacks[e][s],(o||!l.seq||n[l.seq]==l.level)&&d==l.action&&("keypress"==d&&!r.metaKey&&!r.ctrlKey||(D=u,c=l.modifiers,D.sort().join(",")===c.sort().join(",")))){var h=!o&&l.combo==i,C=o&&l.seq==o&&l.level==a;(h||C)&&t._callbacks[e].splice(s,1),p.push(l)}return p}function D(e,u,n,r){t.stopCallback(u,u.target||u.srcElement,n,r)||!1===e(u,n)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(u),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(u))}function c(e){"number"!==typeof e.which&&(e.which=e.keyCode);var u=h(e);u&&("keyup"!=e.type||r!==u?t.handleKey(u,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function p(e,t,o,i){function l(t){return function(){a=t,++n[e],clearTimeout(u),u=setTimeout(s,1e3)}}function c(t){D(o,t,e),"keyup"!==i&&(r=h(t)),setTimeout(s,10)}n[e]=0;for(var p=0;p<t.length;++p){var d=p+1===t.length?c:l(i||E(t[p+1]).action);C(t[p],d,i,e,p)}}function C(e,u,n,r,o){t._directMap[e+":"+n]=u;var i,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?p(e,a,u,n):(i=E(e,n),t._callbacks[i.key]=t._callbacks[i.key]||[],l(i.key,i.modifiers,{type:i.action},r,e,o),t._callbacks[i.key][r?"unshift":"push"]({callback:u,modifiers:i.modifiers,action:i.action,seq:r,level:o,combo:e}))}t._handleKey=function(e,t,u){var n,r=l(e,t,u),o={},c=0,p=!1;for(n=0;n<r.length;++n)r[n].seq&&(c=Math.max(c,r[n].level));for(n=0;n<r.length;++n)if(r[n].seq){if(r[n].level!=c)continue;p=!0,o[r[n].seq]=1,D(r[n].callback,u,r[n].combo,r[n].seq)}else p||D(r[n].callback,u,r[n].combo);var d="keypress"==u.type&&i;u.type!=a||f(e)||d||s(o),i=p&&"keydown"==u.type},t._bindMultiple=function(e,t,u){for(var n=0;n<e.length;++n)C(e[n],t,u)},d(e,"keypress",c),d(e,"keydown",c),d(e,"keyup",c)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},6496:function(e){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],u="undefined"!==typeof window,n=u&&null!=window.mozInnerScreenX;function r(e,r,o){if(!u)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var i=o&&o.debug||!1;if(i){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var s=document.createElement("div");s.id="input-textarea-caret-position-mirror-div",document.body.appendChild(s);var l=s.style,D=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,c="INPUT"===e.nodeName;l.whiteSpace="pre-wrap",c||(l.wordWrap="break-word"),l.position="absolute",i||(l.visibility="hidden"),t.forEach((function(e){c&&"lineHeight"===e?l.lineHeight=D.height:l[e]=D[e]})),n?e.scrollHeight>parseInt(D.height)&&(l.overflowY="scroll"):l.overflow="hidden",s.textContent=e.value.substring(0,r),c&&(s.textContent=s.textContent.replace(/\s/g,"\xa0"));var p=document.createElement("span");p.textContent=e.value.substring(r)||".",s.appendChild(p);var d={top:p.offsetTop+parseInt(D.borderTopWidth),left:p.offsetLeft+parseInt(D.borderLeftWidth),height:parseInt(D.lineHeight)};return i?p.style.backgroundColor="#aaa":document.body.removeChild(s),d}"undefined"!=typeof e.exports?e.exports=r:u&&(window.getCaretCoordinates=r)}()},1576:function(){}}]);